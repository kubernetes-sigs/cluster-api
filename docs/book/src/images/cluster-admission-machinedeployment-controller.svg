<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1174px" preserveAspectRatio="none" style="width:960px;height:1174px;" version="1.1" viewBox="0 0 960 1174" width="960px" zoomAndPan="magnify"><defs><filter height="300%" id="fzmnu8cr7jimo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="374" cy="20" fill="#000000" filter="url(#fzmnu8cr7jimo)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="157" x="295.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="137" x="305.5" y="71.1387">MachineSet controller</text><rect fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="378" x="185" y="147.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="358" x="195" y="169.1074">MachineDeployment controller enqueues a Reconcile call</text><rect fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="235" x="256.5" y="201.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="215" x="266.5" y="223.0762">List all MachineSets in namespace</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="83,355.6167,350,355.6167,362,367.6167,350,379.6167,83,379.6167,71,367.6167,83,355.6167" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="220.5" y="389.8271">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="267" x="83" y="371.4248">MachineSet Owned by this MachineDeployment</text><rect fill="#ADD8E6" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="173.5" y="411.3271"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="183.5" y="432.4658">Add to List</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="394,355.6167,615,355.6167,627,367.6167,615,379.6167,394,379.6167,382,367.6167,394,355.6167" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="508.5" y="389.8271">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="221" x="394" y="371.4248">Not Owned By Any MachineDeployment</text><rect fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="437.5" y="411.3271"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="447.5" y="432.4658">Adopt MachineSet</text><rect fill="#ADD8E6" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="461.5" y="480.2959"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="471.5" y="501.4346">Add to List</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="226.5,299.9063,521.5,299.9063,533.5,311.9063,521.5,323.9063,226.5,323.9063,214.5,311.9063,226.5,299.9063" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="378" y="334.1167">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="295" x="226.5" y="315.7144">MachineSet matches MachineDeployment's selector</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="374,554.2646,386,566.2646,374,578.2646,362,566.2646,374,554.2646" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="374,255.9063,386,267.9063,374,279.9063,362,267.9063,374,255.9063" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="291.5,598.2646,456.5,598.2646,468.5,610.2646,456.5,622.2646,291.5,622.2646,279.5,610.2646,291.5,598.2646" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="291.5" y="614.0728">More MachineSets) then (yes</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="353,657.2646,395,657.2646,407,669.2646,395,681.2646,353,681.2646,341,669.2646,353,657.2646" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="353" y="673.0728">Paused</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="321" y="666.6704">yes</text><rect fill="#ADD8E6" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="10" y="691.2646"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="20" y="712.4033">Update status and exit</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="556,691.2646,756,691.2646,768,703.2646,756,715.2646,556,715.2646,544,703.2646,556,691.2646" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="556" y="707.0728">RollingUpdate Deployment Strategy</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="524" y="700.6704">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="768" y="700.6704">no</text><rect fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="384" y="725.2646"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="165" x="394" y="746.4033">Select newest MachineSet</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="318,779.2334,421,779.2334,433,791.2334,421,803.2334,318,803.2334,306,791.2334,318,779.2334" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="373.5" y="813.4438">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="318" y="795.0415">Too Many replicas</text><rect fill="#ADD8E6" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="285" y="836.0381"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="295" y="857.1768">Scale machineSet down</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="488,779.2334,604,779.2334,616,791.2334,604,803.2334,488,803.2334,476,791.2334,488,779.2334" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="488" y="795.0415">Not Enough Replicas</text><rect fill="#ADD8E6" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="474" y="823.2334"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="484" y="844.3721">Create new replicas</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="216,910.0068,438,910.0068,450,922.0068,438,934.0068,216,934.0068,204,922.0068,216,910.0068" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="331" y="944.2173">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="216" y="925.8149">Old MachineSet Replicas are Unhealthy</text><rect fill="#ADD8E6" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="230" y="965.7173"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="174" x="240" y="986.856">Cleanup Unhealthy Replicas</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="482,910.0068,687,910.0068,699,922.0068,687,934.0068,482,934.0068,470,922.0068,482,910.0068" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="588.5" y="944.2173">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="205" x="482" y="925.8149">New MachineSets Replicas available</text><rect fill="#ADD8E6" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="500.5" y="965.7173"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="510.5" y="986.856">Scale MachineSet down</text><rect fill="#FFC0CB" filter="url(#fzmnu8cr7jimo)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="769" y="725.2646"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="113" x="779" y="746.4033">Unknown strategy</text><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="656,1025.686,668,1037.686,656,1049.686,644,1037.686,656,1025.686" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="374,1055.686,386,1067.686,374,1079.686,362,1067.686,374,1055.686" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="374,103.9688,386,115.9688,374,127.9688,362,115.9688,374,103.9688" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fzmnu8cr7jimo)" points="235,1099.686,513,1099.686,525,1111.686,513,1123.686,235,1123.686,223,1111.686,235,1099.686" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="235" y="1115.4941">More updates to MachineDeployments) then (yes</text><ellipse cx="374" cy="1153.686" fill="none" filter="url(#fzmnu8cr7jimo)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="374.5" cy="1154.186" fill="#000000" filter="url(#fzmnu8cr7jimo)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="30" y2="50"/><polygon fill="#A80036" points="370,40,374,50,378,40,374,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="181.9375" y2="201.9375"/><polygon fill="#A80036" points="370,191.9375,374,201.9375,378,191.9375,374,195.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="504.5" x2="504.5" y1="445.2959" y2="480.2959"/><polygon fill="#A80036" points="500.5,470.2959,504.5,480.2959,508.5,470.2959,504.5,474.2959" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="216.5" x2="216.5" y1="379.6167" y2="411.3271"/><polygon fill="#A80036" points="212.5,401.3271,216.5,411.3271,220.5,401.3271,216.5,405.3271" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="216.5" x2="216.5" y1="445.2959" y2="534.2646"/><polygon fill="#A80036" points="212.5,524.2646,216.5,534.2646,220.5,524.2646,216.5,528.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="504.5" x2="504.5" y1="379.6167" y2="411.3271"/><polygon fill="#A80036" points="500.5,401.3271,504.5,411.3271,508.5,401.3271,504.5,405.3271" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="504.5" x2="504.5" y1="514.2646" y2="534.2646"/><polygon fill="#A80036" points="500.5,524.2646,504.5,534.2646,508.5,524.2646,504.5,528.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="362" x2="382" y1="367.6167" y2="367.6167"/><polygon fill="#A80036" points="372,363.6167,382,367.6167,372,371.6167,376,367.6167" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="323.9063" y2="340.6167"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="216.5" y1="340.6167" y2="340.6167"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="216.5" x2="216.5" y1="340.6167" y2="355.6167"/><polygon fill="#A80036" points="212.5,345.6167,216.5,355.6167,220.5,345.6167,216.5,349.6167" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="627" x2="662" y1="367.6167" y2="367.6167"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="662" x2="662" y1="367.6167" y2="534.2646"/><polygon fill="#A80036" points="658,524.2646,662,534.2646,666,524.2646,662,528.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="216.5" x2="662" y1="534.2646" y2="534.2646"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="533.5" x2="687" y1="311.9063" y2="311.9063"/><polygon fill="#A80036" points="683,449.3936,687,459.3936,691,449.3936,687,453.3936" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="687" x2="687" y1="311.9063" y2="566.2646"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="687" x2="386" y1="566.2646" y2="566.2646"/><polygon fill="#A80036" points="396,562.2646,386,566.2646,396,570.2646,392,566.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="534.2646" y2="554.2646"/><polygon fill="#A80036" points="370,544.2646,374,554.2646,378,544.2646,374,548.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="279.9063" y2="299.9063"/><polygon fill="#A80036" points="370,289.9063,374,299.9063,378,289.9063,374,293.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="468.5" x2="711" y1="610.2646" y2="610.2646"/><polygon fill="#A80036" points="707,469.3936,711,459.3936,715,469.3936,711,465.3936" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="711" x2="711" y1="267.9063" y2="610.2646"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="711" x2="386" y1="267.9063" y2="267.9063"/><polygon fill="#A80036" points="396,263.9063,386,267.9063,396,271.9063,392,267.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="578.2646" y2="598.2646"/><polygon fill="#A80036" points="370,588.2646,374,598.2646,378,588.2646,374,592.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="235.9063" y2="255.9063"/><polygon fill="#A80036" points="370,245.9063,374,255.9063,378,245.9063,374,249.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="369.5" x2="369.5" y1="803.2334" y2="836.0381"/><polygon fill="#A80036" points="365.5,826.0381,369.5,836.0381,373.5,826.0381,369.5,830.0381" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="369.5" x2="369.5" y1="870.0068" y2="890.0068"/><polygon fill="#A80036" points="365.5,880.0068,369.5,890.0068,373.5,880.0068,369.5,884.0068" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="546" x2="546" y1="803.2334" y2="823.2334"/><polygon fill="#A80036" points="542,813.2334,546,823.2334,550,813.2334,546,817.2334" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="546" x2="546" y1="857.2021" y2="890.0068"/><polygon fill="#A80036" points="542,880.0068,546,890.0068,550,880.0068,546,884.0068" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="433" x2="476" y1="791.2334" y2="791.2334"/><polygon fill="#A80036" points="466,787.2334,476,791.2334,466,795.2334,470,791.2334" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="476.5" x2="476.5" y1="759.2334" y2="764.2334"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="476.5" x2="369.5" y1="764.2334" y2="764.2334"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="369.5" x2="369.5" y1="764.2334" y2="779.2334"/><polygon fill="#A80036" points="365.5,769.2334,369.5,779.2334,373.5,769.2334,369.5,773.2334" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="616" x2="653" y1="791.2334" y2="791.2334"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="653" x2="653" y1="791.2334" y2="890.0068"/><polygon fill="#A80036" points="649,880.0068,653,890.0068,657,880.0068,653,884.0068" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="369.5" x2="653" y1="890.0068" y2="890.0068"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="327" x2="327" y1="934.0068" y2="965.7173"/><polygon fill="#A80036" points="323,955.7173,327,965.7173,331,955.7173,327,959.7173" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="327" x2="327" y1="999.686" y2="1019.686"/><polygon fill="#A80036" points="323,1009.686,327,1019.686,331,1009.686,327,1013.686" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="584.5" x2="584.5" y1="934.0068" y2="965.7173"/><polygon fill="#A80036" points="580.5,955.7173,584.5,965.7173,588.5,955.7173,584.5,959.7173" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="584.5" x2="584.5" y1="999.686" y2="1019.686"/><polygon fill="#A80036" points="580.5,1009.686,584.5,1019.686,588.5,1009.686,584.5,1013.686" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="450" x2="470" y1="922.0068" y2="922.0068"/><polygon fill="#A80036" points="460,918.0068,470,922.0068,460,926.0068,464,922.0068" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="476.5" x2="476.5" y1="890.0068" y2="895.0068"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="476.5" x2="327" y1="895.0068" y2="895.0068"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="327" x2="327" y1="895.0068" y2="910.0068"/><polygon fill="#A80036" points="323,900.0068,327,910.0068,331,900.0068,327,904.0068" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="699" x2="734" y1="922.0068" y2="922.0068"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="734" x2="734" y1="922.0068" y2="1019.686"/><polygon fill="#A80036" points="730,1009.686,734,1019.686,738,1009.686,734,1013.686" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="327" x2="734" y1="1019.686" y2="1019.686"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="544" x2="476.5" y1="703.2646" y2="703.2646"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="476.5" x2="476.5" y1="703.2646" y2="725.2646"/><polygon fill="#A80036" points="472.5,715.2646,476.5,725.2646,480.5,715.2646,476.5,719.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="768" x2="835.5" y1="703.2646" y2="703.2646"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="835.5" x2="835.5" y1="703.2646" y2="725.2646"/><polygon fill="#A80036" points="831.5,715.2646,835.5,725.2646,839.5,715.2646,835.5,719.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="476.5" x2="476.5" y1="1019.686" y2="1037.686"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="476.5" x2="644" y1="1037.686" y2="1037.686"/><polygon fill="#A80036" points="634,1033.686,644,1037.686,634,1041.686,638,1037.686" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="835.5" x2="835.5" y1="759.2334" y2="1037.686"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="835.5" x2="668" y1="1037.686" y2="1037.686"/><polygon fill="#A80036" points="678,1033.686,668,1037.686,678,1041.686,674,1037.686" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="341" x2="92" y1="669.2646" y2="669.2646"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="92" x2="92" y1="669.2646" y2="691.2646"/><polygon fill="#A80036" points="88,681.2646,92,691.2646,96,681.2646,92,685.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="407" x2="656" y1="669.2646" y2="669.2646"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="656" x2="656" y1="669.2646" y2="691.2646"/><polygon fill="#A80036" points="652,681.2646,656,691.2646,660,681.2646,656,685.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="92" x2="92" y1="725.2334" y2="1067.686"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="92" x2="362" y1="1067.686" y2="1067.686"/><polygon fill="#A80036" points="352,1063.686,362,1067.686,352,1071.686,356,1067.686" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="656" x2="656" y1="1049.686" y2="1067.686"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="656" x2="386" y1="1067.686" y2="1067.686"/><polygon fill="#A80036" points="396,1063.686,386,1067.686,396,1071.686,392,1067.686" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="622.2646" y2="657.2646"/><polygon fill="#A80036" points="370,647.2646,374,657.2646,378,647.2646,374,651.2646" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="127.9688" y2="147.9688"/><polygon fill="#A80036" points="370,137.9688,374,147.9688,378,137.9688,374,141.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="525" x2="934" y1="1111.686" y2="1111.686"/><polygon fill="#A80036" points="930,637.2803,934,627.2803,938,637.2803,934,633.2803" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="934" x2="934" y1="115.9688" y2="1111.686"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="934" x2="386" y1="115.9688" y2="115.9688"/><polygon fill="#A80036" points="396,111.9688,386,115.9688,396,119.9688,392,115.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="1079.686" y2="1099.686"/><polygon fill="#A80036" points="370,1089.686,374,1099.686,378,1089.686,374,1093.686" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="83.9688" y2="103.9688"/><polygon fill="#A80036" points="370,93.9688,374,103.9688,378,93.9688,374,97.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="374" x2="374" y1="1123.686" y2="1143.686"/><polygon fill="#A80036" points="370,1133.686,374,1143.686,378,1133.686,374,1137.686" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml cluster-admission-machinedeployment-controller

start;
:MachineDeployment controller;

repeat
  :MachineDeployment controller enqueues a Reconcile call;
  :List all MachineSets in namespace;
  repeat
    if (MachineSet matches MachineDeployment's selector) then (yes)
      if (MachineSet Owned by this MachineDeployment) then (yes)
        #LightBlue:Add to List;
      elseif (Not Owned By Any MachineDeployment) then (yes)
        :Adopt MachineSet;
        #LightBlue:Add to List;
      endif
    endif
  repeat while (More MachineSets) then (yes)
  if (Paused) then (yes)
   #LightBlue:Update status and exit;
  else 
    if (RollingUpdate Deployment Strategy) then (yes)
      :Select newest MachineSet;
      if (Too Many replicas) then (yes)
        #LightBlue:Scale machineSet down;
      elseif (Not Enough Replicas)
        #LightBlue:Create new replicas;
      endif
      if (Old MachineSet Replicas are Unhealthy) then (yes)
        #LightBlue:Cleanup Unhealthy Replicas;
      elseif (New MachineSets Replicas available) then (yes)
        #LightBlue:Scale MachineSet down;
      endif
    else (no)
      #Pink:Unknown strategy;
    endif
  endif
repeat while (More updates to MachineDeployments) then (yes)
stop;

@enduml

PlantUML version 1.2017.15(Mon Jul 03 12:45:34 EDT 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+11-post-Ubuntu-1ubuntu218.04.3
Operating System: Linux
OS Version: 5.1.14-050114-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
